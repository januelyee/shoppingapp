function Rainbow(){var a=null;var c=0;var b=100;var e=["ff0000","ffff00","00ff00","0000ff"];d(e);function d(h){if(h.length<2){throw new Error("Rainbow must have two or more colours.")}else{var g=(b-c)/(h.length-1);var j=new ColourGradient();j.setGradient(h[0],h[1]);j.setNumberRange(c,c+g);a=[j];for(var k=1;k<h.length-1;k++){var f=new ColourGradient();f.setGradient(h[k],h[k+1]);f.setNumberRange(c+g*k,c+g*(k+1));a[k]=f}e=h;return this}}this.setColors=this.setColours;this.setSpectrum=function(){d(arguments);return this};this.setSpectrumByArray=function(f){d(f);return this};this.colourAt=function(h){if(isNaN(h)){throw new TypeError(h+" is not a number")}else{if(a.length===1){return a[0].colourAt(h)}else{var g=(b-c)/(a.length);var f=Math.min(Math.floor((Math.max(h,c)-c)/g),a.length-1);return a[f].colourAt(h)}}};this.colorAt=this.colourAt;this.setNumberRange=function(g,f){if(f>g){c=g;b=f;d(e)}else{throw new RangeError("maxNumber ("+f+") is not greater than minNumber ("+g+")")}return this}}function ColourGradient(){var f="ff0000";var b="0000ff";var d=0;var c=100;this.setGradient=function(h,i){f=a(h);b=a(i)};this.setNumberRange=function(i,h){if(h>i){d=i;c=h}else{throw new RangeError("maxNumber ("+h+") is not greater than minNumber ("+i+")")}};this.colourAt=function(h){return g(h,f.substring(0,2),b.substring(0,2))+g(h,f.substring(2,4),b.substring(2,4))+g(h,f.substring(4,6),b.substring(4,6))};function g(l,i,o){var m=l;if(m<d){m=d}if(m>c){m=c}var n=c-d;var j=parseInt(i,16);var h=parseInt(o,16);var p=(h-j)/n;var k=Math.round(p*(m-d)+j);return formatHex(k.toString(16))}formatHex=function(h){if(h.length===1){return"0"+h}else{return h}};function e(h){var i=/^#?[0-9a-fA-F]{6}$/i;return i.test(h)}function a(h){if(e(h)){return h.substring(h.length-6,h.length)}else{var k=[["red","ff0000"],["lime","00ff00"],["blue","0000ff"],["yellow","ffff00"],["orange","ff8000"],["aqua","00ffff"],["fuchsia","ff00ff"],["white","ffffff"],["black","000000"],["gray","808080"],["grey","808080"],["silver","c0c0c0"],["maroon","800000"],["olive","808000"],["green","008000"],["teal","008080"],["navy","000080"],["purple","800080"]];for(var j=0;j<k.length;j++){if(h.toLowerCase()===k[j][0]){return k[j][1]}}throw new Error(h+" is not a valid colour.")}}};